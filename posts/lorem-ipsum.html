<html>
    <head>
        <title> Markdown Test Page | Huy's Blog</title>
        <meta charset="utf-8">
        <meta http-equiv="content-type" content="text/html;"><meta name=viewport content="initial-scale=1.0 maximum-scale=1.0">
        
        <link href="../css/inconsolata.css" rel="stylesheet" type="text/css">
        <link href="../css/theme.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="../css/highlight/tomorrow.css">
        <link rel="stylesheet" href="../css/fontello.css">
        <script src="../js/highlight.pack.js"></script>
        <script src="../js/autosizing.js"></script>
        <script>
        hljs.initHighlightingOnLoad();
        </script>
    </head>
    <body>
        <div class="header">
            <a href="/"><i class="icon icon-emo-coffee"></i> Huy's Blog</a>
        </div>
        <div class="container">
            <div class="main">
                <h1 id="markdown-test-page">Markdown Test Page</h1>
<h2 id="lorem-ipsum-dolor-sit-amet">Lorem ipsum dolor sit amet</h2>
<p>regione debitis <strong>inimicus vel ad, commodo expetenda at sed.</strong> Ex porro dicta essent vix. No ius ceteros probatus sensibus. At eum purto dicit consulatu, tollit minimum his ex. Quem molestiae et cum, pro autem <em>debitis quaestio ei, te malis ullum his.</em> Mea quando partem option in, simul ornatus eu pro. Ei qualisque temporibus theophrastus sea, te porro falli nominati ius.</p>
<h2 id="quo-dicam-indoctum-ea">Quo dicam indoctum ea</h2>
<p>qui case sensibus no. Qui ad nibh delenit volptua. <a href="#home">Back to Homepage</a></p>
<h3 id="nec-ne-sint-assueverit">nec ne sint assueverit</h3>
<p>Etiam praesent postulant at vix. Vis dicant offendit moderatius id</p>
<p><img src="https://nodejs.org/static/images/logos/nodejs-1440x900.png" alt=""></p>
<h3 id="nostro-constituam-nec-in">nostro constituam nec in</h3>
<p>meis essent eum an. Habemus tacimates ut est.</p>
<blockquote>
<p>Reque mandamus pri ei, nam et fastidii tincidunt voluptatibus. Cu putent dissentiet vituperatoribus his. Graeci iisque molestiae duo ei, aperiam euismod volumus vel ne, eos liber impetus corpora ex. Sonet verear tincidunt id per, his cu integre scripserit appellantur. Mel cu sumo suas omnium, ut duo erant torquatos, verterem prodesset vel ex. Ei essent vidisse per.</p>
</blockquote>
<h2 id="eu-verterem-democritum-vis">Eu verterem democritum vis</h2>
<p>eam id latine meliore ullamcorper, <code>quo feugait deleniti accusata cu</code>. Ornatus posidonium persequeris sea ne. Id integre persius eos. Vim similique constituam eu, ne liber dissentiet intellegebat pri, ne quo affert munere forensibus. Ea eum agam sensibus partiendo, pri ei dicta placerat periculis.</p>
<pre><code>import Foundation

@objc class Person: Entity {
  var name: String!
  var age:  Int!

  init(name: String, age: Int) {
    /* /* ... */ */
  }

  // Return a descriptive string for this person
  func description(offset: Int = 0) -&gt; String {
    return &quot;\(name) is \(age + offset) years old&quot;
  }
}
</code></pre><p>eam id latine meliore ullamcorper, quo feugait deleniti accusata cu. Ornatus posidonium persequeris sea ne. Id integre persius eos. Vim similique</p>
<ul>
<li>aiwef</li>
<li>[ ] awiefzcxv</li>
<li>iefiwef</li>
</ul>
<h2 id="math">Math</h2>
<p>So, $A = 5$ and <code>$A^{2} = 9$</code> then <code>$B_{1} = 8$</code></p>
<p>A longer math:</p>
<pre class="math">
$
\displaystyle\sum_{i=1}^{n}\frac{1}{\theta_{0} + \theta_{1}}
$
</pre>

<p>End of math</p>

                <div class="copyright">
                B·∫°n ƒë∆∞·ª£c t√πy √Ω b·∫•m like, tr√≠ch d·∫´n ho·∫∑c copy, post l·∫°i, nh∆∞ng vui l√≤ng ghi r√µ ngu·ªìn v√† t√°c gi·∫£ v√† kh√¥ng l√†m thay ƒë·ªïi n·ªôi dung b√†i vi·∫øt. N·∫øu kh√¥ng l√†m v·∫≠y, m√¨nh hy v·ªçng t·ª´ nay v·ªÅ sau b·∫°n s·∫Ω lu√¥n c·∫£m th·∫•y c·∫Øn r·ª©t l∆∞∆°ng t√¢m, ƒÉn kh√¥ng ngon, ng·ªß kh√¥ng y√™n. üòÜ
                </div>
                <!-- Comment -->
                <div class="comments">
                  <div id="comment-loading" class="loading"></div>
                  <div id="login-box" class="login">
                    B·∫°n c·∫ßn <button onclick="login()">Login</button> ƒë·ªÉ comment
                  </div>
                  <div id="comment-box" class="comment-input">
                    <div class="avatar">
                      <img id="user-avatar" src="" width="32" height="32"/>
                    </div>
                    <div class="input">
                      <textarea id="comment-content" onkeyup="autoSizing(this)" onkeydown="submitComment(event)" placeholder="Comment g√µ v√†o ƒë√¢y :D"></textarea>
                      <span>G√µ xong nh·∫•n <kbd>Ctrl</kbd> + <kbd>Enter</kbd> ƒë·ªÉ g·ª≠i.</span>
                    </div>
                  </div>
                  <ul id="comment-list" class="comment-list"></ul>
                </div>
                <!-- End Comment -->
            </div>
        </div>
	    <div class="footer">
            <p>Created with <a href="http://github.com/huytd/azeroth-js">azeroth.js</a></p>
            <div class="social">
                <a target="_blank" href="http://twitter.com/huydotnet"><i class="icon-twitter-squared"></i></a>
                <a target="_blank" href="http://github.com/huytd"><i class="icon-github-squared"></i></a>
                <a target="_blank" href="https://thefullsnack.com"><i class="icon-emo-coffee"></i></a>
            </div>
        </div>
        <script type="text/javascript" async src="https://cdn.rawgit.com/mathjax/MathJax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            skipTags: ["script","noscript","style","textarea"]
          }
        });
        </script>
     <script src="https://www.gstatic.com/firebasejs/4.3.0/firebase.js"></script>
		<script>
		  // Initialize Firebase
		  var config = {
		    apiKey: "AIzaSyAlmm2LQC_tHUpq4yO0fmNnzuycCzVekXE",
		    authDomain: "comment-d2307.firebaseapp.com",
		    databaseURL: "https://comment-d2307.firebaseio.com",
		    projectId: "comment-d2307",
		    storageBucket: "comment-d2307.appspot.com",
		    messagingSenderId: "657194997467"
		  };
		  firebase.initializeApp(config);
		</script>
        <script>
          let provider = new firebase.auth.GoogleAuthProvider();
          let auth = firebase.auth();
          let currentUser = null;
          let postCommentURL = 'posts/lorem-ipsum/comments';

          auth.onAuthStateChanged(function(user) {
            document.getElementById("comment-loading").style.display = "none";
            if (user) {
              currentUser = user;
              // Logged in
              document.getElementById("login-box").style.display = "none";
              document.getElementById("comment-box").style.display = "flex";
              document.getElementById("user-avatar").setAttribute("src", user.photoURL);
            } else {
              // Not login yet
              document.getElementById("comment-box").style.display = "none";
              document.getElementById("login-box").style.display = "block";
            }
          });

          const login = function() {
            auth.signInWithPopup(provider)
              .then(function(result) {
              }).catch(function(err) {
              });
          };

          const encodeHTML = function(s) {
            return s.replace(/</g, '&lt;').replace(/"/g, '&quot;').replace(/>/g, '&gt;');
          };

          const saveNewComment = function(comment) {
            if (!currentUser) {
              return;
            }
            let commentData = {
              user: currentUser.displayName,
              avatar: currentUser.photoURL,
              time: (new Date()).getTime(),
              message: encodeHTML(comment)
            };
            database.ref(postCommentURL).push(commentData);
            document.getElementById("comment-content").value = "";
          };

          const submitComment = function(e) {
            let keyCode = e.which || e.keyCode;
            let ctrlCode = e.ctrlKey || e.metaKey;
            if (keyCode === 13 && ctrlCode) {
              let comment = document.getElementById("comment-content").value;
              saveNewComment(comment);
            }
          };

          const filterURLinComment = function(comment) {
            return comment.replace(/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9]\.[^\s]{2,})/g, "<a target='_blank' rel='noopener noreferrer' href='$1'>$1</a>");
          };

          const addNewComment = function(user, avatar, time, comment) {
            let commentFiltered = encodeHTML(comment);
            commentFiltered = filterURLinComment(commentFiltered);
            let d = new Date(time);
            let commentTime = d.toLocaleTimeString() + ' ' + d.toLocaleDateString();
            let html = '<div class="avatar">' +
              '   <img src="' + avatar + '" width="32" height="32"/>' +
              ' </div>' +
              '<div class="comment">' +
              '  <div class="metadata"><b>' + user + '</b> l√∫c <span>' + commentTime + '</span></div>' +
              '  <div class="content">' + commentFiltered
              '  </div>' +
              '</div>';
            let li = document.createElement('li');
            li.innerHTML = html;
            document.getElementById("comment-list").append(li);
          };

          let database = firebase.database();
          let posts = database.ref(postCommentURL).orderByChild('time');
          posts.on('child_added', function(data) {
            addNewComment(data.val().user, data.val().avatar, data.val().time, data.val().message);
          });
        </script>
    </body>
</html>
